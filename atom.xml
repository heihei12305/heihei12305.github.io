<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://heihei12305.github.io</id>
    <title>heihei12305</title>
    <updated>2019-12-26T03:04:56.740Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://heihei12305.github.io"/>
    <link rel="self" href="https://heihei12305.github.io/atom.xml"/>
    <subtitle>æ‰€è§å³æ‰€å¾—ï¼Œæ‰€è§å³æ‰€ç¢</subtitle>
    <logo>https://heihei12305.github.io/images/avatar.png</logo>
    <icon>https://heihei12305.github.io/favicon.ico</icon>
    <rights>All rights reserved 2019, heihei12305</rights>
    <entry>
        <title type="html"><![CDATA[ant-design-pro-vueä¿®æ”¹æŒ‡å—ğŸ› ]]></title>
        <id>https://heihei12305.github.io/post/ant-design-pro-vue-xiu-gai-zhi-nan</id>
        <link href="https://heihei12305.github.io/post/ant-design-pro-vue-xiu-gai-zhi-nan">
        </link>
        <updated>2019-12-24T15:32:50.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>å‰ä¸€æ®µæ—¶é—´ç”¨ant design pro of vueå†™äº†ä¿©ç³»ç»Ÿï¼Œè¶ç€è‡ªå·±è¿˜è®°å¾—æ€ä¹ˆæ”¹çš„ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p>
</blockquote>
<h3 id="ç™»å½•æ¡†ç³»åˆ—">ç™»å½•æ¡†ç³»åˆ—</h3>
<br/>
<p>ç³»åˆ—æ–‡ä»¶ğŸ“ƒåœ¨ <code>src/views/user</code>ä¸‹ï¼Œå› ä¸ºæ²¡æœ‰å¤ç”¨å¾ˆå¤šç»„ä»¶ï¼ˆä¸åƒant design proğŸ˜­ï¼‰ï¼Œ</p>
<figure data-type="image" tabindex="1"><img src="https://heihei12305.github.io/post-images/1577202288794.png" alt=""></figure>
<br/>
<p>ç›´æ¥ä¿®æ”¹è¿™ä¸‰ä¸ªç»„ä»¶å³å¯ğŸ˜Šã€‚</p>
<br/>
<blockquote>
<p>ps:ä¸è¿‡è¿™é‡ŒæŠŠè¯·æ±‚å°è£…äº†ï¼Œè€Œä¸”è®¾è®¡åŠ¨æ€æƒé™è·¯ç”±æ¸²æŸ“é‚£ä¸€å¥—ï¼Œå»ºè®®æ”¹æ”¹å½¢å¼å°±å¥½äº†ï¼Œå…¶ä»–çš„è°¨æ…ä¿®æ”¹ã€‚â›</p>
</blockquote>
<br/>
<h3 id="åŠ¨æ€è·¯ç”±ç³»åˆ—">åŠ¨æ€è·¯ç”±ç³»åˆ—</h3>
<br/>
<p>ç³»åˆ—æ–‡ä»¶ğŸ“ƒåœ¨ <code>src/config/router.config.js</code>,æ­¤å¤„æ¶‰åŠåŠ¨æ€è·¯ç”±åˆ—è¡¨æ¸²æŸ“çš„å…·ä½“æƒ…å†µï¼ŒåŒ…æ‹¬urlï¼Œåˆ—è¡¨é¡¹åç§°ï¼Œpageåç§°ç­‰ã€‚</p>
<br/>
<p>ä¾‹å­ï¼š</p>
<pre><code>// forms
{
    path: '/index',
    redirect: '/index/welcome',
    component: RouteView,
    meta: { title: 'ä¸»é¡µ', icon: 'form', permission: [ 'form' ] },
    children: [
        {
        path: '/index/welcome',
        name: 'welcome',
        component: () =&gt; import('@/views/form/BasicForm'),
        meta: { title: 'æ¬¢è¿é¡µ', keepAlive: true, permission: [ 'form' ] }
        }
    ]
},
</code></pre>
<p>è¯´æ˜ï¼šæ­¤å¤„è·¯ç”±ç”±formsä¿®æ”¹è€Œæ¥ï¼Œæƒé™åˆ—è¡¨ä¾æ—§ä¸ºformï¼Œpageåç§°ä¸ºä¸»é¡µæˆ–è€…æ¬¢è¿é¡µã€‚pathæŒ‡çš„æ˜¯è·¯ç”±ï¼ŒcompontæŒ‡å¯¹åº”vueç»„ä»¶ã€‚ğŸ”§</p>
<br/>
<h3 id="è·¨åŸŸç¯‡">è·¨åŸŸç¯‡</h3>
<p>å¯¹åº”æ–‡ä»¶ğŸ“ƒåœ¨<code>vue.config.js</code>,æŠŠproxyä¿®æ”¹åˆ°å¯¹åº”åç«¯ç«¯å£å³å¯ã€‚</p>
<pre><code>//æ­¤å¤„ä»£ç ä½äºvue.config.js 87è¡Œ
devServer: {
    // development server port 8000
    port: 8000,
    // If you want to turn on the proxy, please remove the mockjs /src/main.jsL11
    proxy: {
      '/api/*': {
        target:'http://localhost:3000',
        // target:'http://202.206.212.212:9000',
        changeOrigin: true
      }
    }
  },
</code></pre>
<h3 id="antç»„ä»¶ä½¿ç”¨ç¯‡">antç»„ä»¶ä½¿ç”¨ç¯‡</h3>
<p>å®˜ç½‘åœ°å€ï¼š <a href="http://vue.ant-design.cn/docs/vue/introduce-cn/">ant design vue</a></p>
<br/>
<p>åœ¨ant design pro vue ä¸­ä½¿ç”¨æ–¹å¼ï¼š</p>
<ol>
<li>æŒ‰éœ€åŠ è½½åœ¨<code>src/core/lazy_lib/components_use.js</code></li>
</ol>
<pre><code>//ä½¿ç”¨ç¤ºä¾‹
import {
  Carousel
} from 'ant-design-vue'
Vue.use(Carousel)
</code></pre>
<p>æ–‡ä»¶å…¶ä½™éƒ¨åˆ†ä¸åŠ¨å³å¯ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<br/>
<ol start="2">
<li>ä¸Šæ–‡ä¸­æˆ‘ä»¬å¼•å…¥äº†<code>Carousel</code>ï¼Œä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ <code>a-carousel</code></li>
</ol>
<pre><code>&lt;a-carousel 
    arrows 
    autoplay
    &gt;
    &lt;div
      slot=&quot;prevArrow&quot;
      class=&quot;custom-slick-arrow&quot;
      style=&quot;left: 10px;zIndex: 1&quot;
    &gt;
      &lt;a-icon type=&quot;left-circle&quot; /&gt;
    &lt;/div&gt;
    &lt;div slot=&quot;nextArrow&quot; class=&quot;custom-slick-arrow&quot; style=&quot;right: 10px&quot;&gt;
      &lt;a-icon type=&quot;right-circle&quot; /&gt;
    &lt;/div&gt;
    &lt;div&gt;&lt;h3&gt;é‡è¦é€šçŸ¥ï¼šxxxxæ–°ä¹¦åˆ°å•¦&lt;/h3&gt;&lt;/div&gt;
    &lt;div&gt;&lt;h3&gt;è€å¸ˆç»™ä¸ªä¼˜å§ï¼&lt;/h3&gt;&lt;/div&gt;
    &lt;div&gt;&lt;h3&gt;ä¸çœ‹é”™äº¿å‘€ï¼å›¾ä¹¦é¦†ä½¿ç”¨æŒ‡å—&lt;/h3&gt;&lt;/div&gt;
  &lt;/a-carousel&gt;
</code></pre>
<br/>
<h3 id="å–æ¶ˆmockç¯‡">å–æ¶ˆmockç¯‡</h3>
<p>ä½¿ç”¨ ant design pro vueæ—¶ï¼Œè¯·æ±‚ä¼šè¢«mockå…¨éƒ¨æ‹¦æˆªğŸ˜¢</p>
<br/>
<p>å–æ¶ˆå…¶å®ä¹Ÿç®€å•ï¼ŒMock åœ¨ main.js ä¸­ç»è¡Œå¼•å…¥ï¼Œä½ å¯ä»¥æŸ¥çœ‹è¯¥æ–‡ä»¶çš„æºä»£ç ï¼Œå¹¶æ‰¾åˆ° import './mock' è¿™æ ·çš„ä»£ç ã€‚ï¼ˆå»é™¤å®ƒ å¯å®Œæ•´çš„å°†é¡¹ç›®ä¸­çš„ mock æ‹¦æˆªå»é™¤ï¼‰</p>
<br/>
<h3 id="è¯·æ±‚å‘é€ç¯‡">è¯·æ±‚å‘é€ç¯‡</h3>
<br/>
<p>åˆ«é—®ï¼Œé—®å°±æ˜¯axiosğŸ˜Š<br/></p>
<p>æœ¬æ¥é¡¹ç›®å°±æœ‰ç”¨ï¼Œåªæ˜¯å®ƒåˆç»™å†å°è£…ğŸ“¦äº†ä¸€å±‚ã€‚<br/></p>
<p>ä½¿ç”¨å¾ˆç®€å•ï¼Œå¼•å…¥ï¼Œç„¶åç›´æ¥ä½¿ç”¨å³å¯ã€‚</p>
<pre><code>&lt;script&gt;
import axios from 'axios'
methods: {
    getData () {
        axios.post('/api/admin/salary', {
        params: {
            'username': this.$store.getters.userInfo.roleId
        }
        }).then(result =&gt; {
        console.log(result.data.data)
        this.dataSource = result.data.data
        for (let i = 0, len = this.dataSource.length; i &lt; len; i++) {
            this.dataSource[i].key = i
        }
        })
    },
&lt;/script&gt;
</code></pre>
<h3 id="vueåŸºç¡€ç¯‡">vueåŸºç¡€ç¯‡</h3>
<p>å¯èƒ½ä½¿ç”¨åˆ°çš„vueçš„ä¸€äº›åŸºç¡€å±æ€§ğŸ“–</p>
<ul>
<li>mountd  ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„ä¸€ä¸ª</li>
<li>computed è®¡ç®—å±æ€§</li>
<li>data ä½¿ç”¨çš„å¿…é¡»ä¸ºè¿”å›å€¼</li>
<li>components ä½¿ç”¨çš„ç»„ä»¶</li>
</ul>
<p>å…¶ä½™å…·ä½“çš„ ant ç»„ä»¶ç›¸å…³é…ç½®è§ ant design ç»„ä»¶åº“</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[webpack-è¿›é˜¶ç”¨æ³•ğŸš”]]></title>
        <id>https://heihei12305.github.io/post/webpack-jin-jie-yong-fa</id>
        <link href="https://heihei12305.github.io/post/webpack-jin-jie-yong-fa">
        </link>
        <updated>2019-12-23T15:30:51.000Z</updated>
        <content type="html"><![CDATA[<h2 id="è‡ªåŠ¨æ¸…ç†æ„å»ºç›®å½•äº§ç‰©">ğŸ è‡ªåŠ¨æ¸…ç†æ„å»ºç›®å½•äº§ç‰©</h2>
<br/>
<h3 id="é€šè¿‡-npm-scriptsæ¸…ç†æ„å»ºç›®å½•">ğŸš² é€šè¿‡ <code>npm scripts</code>æ¸…ç†æ„å»ºç›®å½•</h3>
<pre><code>rm -rf ./dist &amp;&amp; webpack
rimraf ./dist &amp;&amp; webpack
</code></pre>
<p>ä¸è¿‡è¿™ä¸ª <code>rm -rf</code> çœ‹èµ·æ¥æœ‰ç‚¹ğŸ˜¨ï¼Œä¸å¾ˆä¼˜é›…ã€‚</p>
<br/>
<h3 id="é€šè¿‡-clean-webpack-plugin-æ’ä»¶">ğŸ›µ é€šè¿‡ <code>clean-webpack-plugin</code> æ’ä»¶</h3>
<br/>
<p><b>é»˜è®¤ä¼šåˆ é™¤outputæŒ‡å®šçš„è¾“å‡ºç›®å½•</b></p>
<br/>
<pre><code>module.exports = {
    entry:{
        app:'./src/app.js',
        search:'./src/search.js'
    },
    output:{
        filename:'[name][chunkhash:8].js',
        path:__dirname+'/dist'
    },
    plugins:[
        new CleanWebpackPlugin()
    ]
};
</code></pre>
<br/>
<hr>
<br/>
<h2 id="postcssæ’ä»¶è‡ªåŠ¨è¡¥å…¨css3å‰ç¼€">postCssæ’ä»¶è‡ªåŠ¨è¡¥å…¨css3å‰ç¼€ğŸ„â€â™€</h2>
<h3 id="ä¸ºä»€ä¹ˆcss3éœ€è¦æ·»åŠ å‰ç¼€å‘¢">ä¸ºä»€ä¹ˆcss3éœ€è¦æ·»åŠ å‰ç¼€å‘¢ï¼ŸğŸŠâ€â™€</h3>
<p>åŸå› ï¼šå› ä¸ºæµè§ˆå™¨çš„æ ‡å‡†è¿˜æ²¡æœ‰å®Œå…¨ç»Ÿä¸€ï¼Œç›®å‰æ¥çœ‹ä¸»è¦è¿˜æœ‰å››ç§æµè§ˆå™¨å†…æ ¸ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>â›¹ï¸â€â™€ï¸Trident(-ms)</li>
<li>â›¹Geko(-moz)</li>
<li>ğŸ¤¾â€â™€Webkit(-webkit)</li>
<li>ğŸ¤¾â€â™‚Presto(-o)</li>
</ul>
<br/>
<h3 id="ä½¿ç”¨autoprefixeræ’ä»¶">ä½¿ç”¨autoprefixeræ’ä»¶ğŸŠ</h3>
<br/>
<p>åŸç†ï¼šğŸ¤¼â€â™‚æ ¹æ®<a href="https://caniuse.com/">Cab I Useè§„åˆ™</a></p>
<br/>
<pre><code>module.exports = {
  module:{
    rules:[
      {
        test:/\.less$/,
        use:[
          'style-loader',
          'css-loader',
          'less-loader',
           {
            loader:'postcss-loader',
            options:{
              plugins:() =&gt; {
                require('autoprefixer')({
                    browsers:[&quot;last 2 version&quot;,&quot;&gt;1%&quot;,&quot;iOS 7&quot;]
                })
              }
            }
          }
        ]
       }
     ]
  }
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[webpack-js,html,csså‹ç¼©ğŸ—œï¸]]></title>
        <id>https://heihei12305.github.io/post/webpack-jshtmlcss-ya-suo</id>
        <link href="https://heihei12305.github.io/post/webpack-jshtmlcss-ya-suo">
        </link>
        <updated>2019-12-23T14:42:33.000Z</updated>
        <content type="html"><![CDATA[<p>åˆåˆåˆå¼€å§‹ç»§ç»­å­¦ä¹ webpackå•¦ï¼ğŸ·</p>
<br/>
<p>æœ¬æ–‡è®°å½•æœ‰å…³webpackå‹ç¼©ğŸ—œï¸ç›¸å…³çš„ä¸œè¥¿ã€‚</p>
<br/>
<blockquote>
<p>æ‰€è§å³æ‰€å¾—ï¼Œæ‰€è§å³æ‰€ç¢ã€‚</p>
</blockquote>
<p>start</p>
<br/>
<h3 id="javascript-å‹ç¼©">JavaScript å‹ç¼©</h3>
<br/>
<p>å†…ç½®äº†<code>uglifyjs-webpack-plugin</code>,æ‰€ä»¥é»˜è®¤æ‰“åŒ…å‡ºæ¥çš„jsæ–‡ä»¶å·²ç»è¢«å‹ç¼©ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªè¡Œå®‰è£…è¯¥æ’ä»¶å»å¼€å¯å¹¶è¡Œå‹ç¼©ç­‰ã€‚</p>
<br/>
<h3 id="cssæ–‡ä»¶å‹ç¼©">cssæ–‡ä»¶å‹ç¼©</h3>
<br/>
<p>ä½¿ç”¨ <code>optimize-css-assets-webpack-plugin</code>,åŒæ—¶ä½¿ç”¨<code>cssnano</code></p>
<pre><code>module.exports = {
    entry:{
        app:'./src/app.js',
        search:'./src/search.js'
    },
    output:{
        filename:'[name][chunkhash:8].js',
        path:__dirname+'/dist'
    }ï¼Œ
    plugin:[
        new OptimizeCSSAssentsPlugin({
            assetNameRegExp:/\.css$/g,
            cssProcessor:require('cssnano')
        })
    ]
}
</code></pre>
<p>åŒ¹é…åˆ°æ‰€æœ‰çš„cssæ–‡ä»¶ï¼Œå†é€šè¿‡<code>cssnano</code>å¯¹cssè¿›è¡Œå‹ç¼©ã€‚</p>
<br/>
<h3 id="htmlæ–‡ä»¶å‹ç¼©">htmlæ–‡ä»¶å‹ç¼©</h3>
<br/>
<p>ä¿®æ”¹ <code>html-webpack-plugin</code>,è®¾ç½®å‹ç¼©å‚æ•°ã€‚</p>
<br/>
<pre><code>module.exports = {
    entry:{
        app:'./src/app.js',
        search:'./src/search.js'
    },
    output:{
        filename:'[name][chunkhash:8].js',
        path:__dirname+'/dist'
    },
    plugins:[
        new HtmlWebpackPlugin({
            template:path.join(__dirname,'src/search.html'),
            filename:'search.html',
            chunks:['search'],
            inject:true,
            minify:{
                html5:true,
                collapseWhitespace:true,
                preserveLineBreaks:false,
                minifyCSS:true,
                minifyJS:true,
                removeComments:false
            }
        })
    ]
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[react-jsx å¤‡å¿˜]]></title>
        <id>https://heihei12305.github.io/post/react-jsx-bei-wang</id>
        <link href="https://heihei12305.github.io/post/react-jsx-bei-wang">
        </link>
        <updated>2019-12-19T07:29:19.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<h2 id="æœ¬æ–‡ä»…ä½œå¤‡å¿˜è¯¦æƒ…è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£">æœ¬æ–‡ä»…ä½œå¤‡å¿˜ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹<a href="https://zh-hans.reactjs.org/docs/jsx-in-depth.html">å®˜æ–¹æ–‡æ¡£</a></h2>
</blockquote>
<h3 id="ç”¨æˆ·å®šä¹‰çš„ç»„ä»¶å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´">ç”¨æˆ·å®šä¹‰çš„ç»„ä»¶å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´</h3>
<p>ä»¥å°å†™å­—æ¯å¼€å¤´çš„å…ƒç´ ä»£è¡¨ä¸€ä¸ªHTMLå†…ç½®ç»„ä»¶ï¼Œæ¯”å¦‚<code>&lt;div&gt;</code>æˆ–è€…<code>&lt;span&gt;</code>ä¼šç”Ÿæˆå¯¹åº”çš„å­—ç¬¦ä¸²<code>'div'</code>æˆ–è€…<code>'span'</code>ä¼ é€’ç»™<code>React.createElement</code>ï¼ˆä½œä¸ºå‚æ•°ï¼‰ã€‚å¤§å†™å­—æ¯å¼€å¤´çš„å…ƒç´ åˆ™å¯¹åº”ç€åœ¨JavaScriptå¼•å…¥æˆ–è‡ªå®šä¹‰çš„ç»„ä»¶ï¼Œå¦‚<code>&lt;Foo /&gt;</code>ä¼šç¼–è¯‘ä¸º<code>React.createElement(Foo)</code>ã€‚</p>
<br/>
<p>æˆ‘ä»¬å»ºè®®ä½¿ç”¨å¤§å†™å­—æ¯å¼€å¤´å‘½åè‡ªå®šä¹‰ç»„ä»¶ã€‚å¦‚æœä½ ç¡®å®éœ€è¦ä¸€ä¸ªä»¥å°å†™å­—æ¯å¼€å¤´çš„ç»„ä»¶ï¼Œåˆ™åœ¨JSXä¸­ä½¿ç”¨å®ƒä¹‹å‰ï¼Œå¿…é¡»å°†å®ƒèµ‹å€¼ç»™ä¸€ä¸ªå°å†™å­—æ¯å¼€å¤´çš„å˜é‡ã€‚</p>
<br/>
<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹çš„ä»£ç å°†æ— æ³•æŒ‰é¢„æœŸè¿›è¡Œï¼š</p>
<pre><code>import React from 'react';

//é”™è¯¯ï¼ç»„ä»¶åº”è¯¥ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼š
function hello(props) {
	//æ­£ç¡®ï¼è¿™ç§&lt;div&gt;çš„ä½¿ç”¨æ˜¯åˆæ³•çš„ï¼Œå› ä¸ºdivæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„HTMLæ ‡ç­¾
	return &lt;div&gt;Hello {props.toWhat}&lt;/div&gt;
}

function HelloWorld() {
	//é”™è¯¯ï¼Reactä¼šè®¤ä¸º&lt;hello /&gt;æ˜¯ä¸€ä¸ªHTMLæ ‡ç­¾ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼›
	return &lt;hello toWhat=&quot;World&quot; /&gt;
}
</code></pre>
<h3 id="å±æ€§å±•å¼€">å±æ€§å±•å¼€</h3>
<br/>
<p>å¦‚æœä½ å·²ç»æœ‰äº†ä¸€ä¸ªpropså¯¹è±¡ï¼Œä½ å¯ä»¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦<code>...</code>æ¥åœ¨JSXä¸­ä¼ é€’æ•´ä¸ªpropså¯¹è±¡ã€‚ä»¥ä¸‹ä¸¤ä¸ªç»„ä»¶æ˜¯ç­‰ä»·çš„ï¼š</p>
<pre><code>function App1() {
	return &lt;Greeting firstName=&quot;Ben&quot; lastName=&quot;Hector&quot;&gt;;
}
function App2() {
	const props = {firstName: 'Ben',lastName: 'Hector'};
	return &lt;Greeting {...props} /&gt;
}
</code></pre>
<p>ä½ è¿˜å¯ä»¥é€‰æ‹©åªä¿ç•™å½“å‰ç»„ä»¶éœ€è¦æ¥æ”¶çš„propsï¼Œå¹¶ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦å°†å…¶ä»–propsä¼ é€’ä¸‹å»ã€‚</p>
<pre><code>const Button = props =&gt; {
	const { kind,...other } = props;
	const className = kind === 'primary' ? 'primaryButton' : 'SecondaryButton';
	return &lt;button className={className} {...other} /&gt;;
};

const App = () =&gt; {
	return (
		&lt;div&gt;
			&lt;Button kind=&quot;primary&quot; onClick={() =&gt; console.log(&quot;clicked!&quot;)}&gt;
				Hello World!
			&lt;/Button&gt;
		&lt;/div&gt;
	);
};
</code></pre>
<h3 id="å¸ƒå°”ç±»å‹nullä»¥åŠundefinedå°†è¢«å¿½ç•¥">å¸ƒå°”ç±»å‹ï¼ŒNullä»¥åŠUndefinedå°†è¢«å¿½ç•¥</h3>
<br/>
<p><code>false</code>,<code>null</code>,<code>undefined</code>.<code>true</code>æ˜¯åˆæ³•çš„å­å…ƒç´ ã€‚ä½†å®ƒä»¬å¹¶ä¸ä¼šè¢«æ¸²æŸ“ã€‚ä»¥ä¸‹çš„JSXè¡¨è¾¾å¼æ¸²æŸ“ç»“æœç›¸åŒï¼š</p>
<pre><code>&lt;div /&gt;

&lt;div&gt;&lt;/div&gt;

&lt;div&gt;{false}&lt;/div&gt;

&lt;div&gt;{null}&lt;/div&gt;

&lt;div&gt;{undefined}&lt;/div&gt;

&lt;div&gt;{true}&lt;/div&gt;
</code></pre>
<p>è¿™æœ‰åŠ©äºä¾æ®ç‰¹å®šæ¡ä»¶æ¥æ¸²æŸ“å…¶ä»–çš„Reactå…ƒç´ ã€‚ä¾‹å¦‚ï¼Œåœ¨ä»¥ä¸‹JSXä¸­ï¼Œä»…å½“<code>showHeader</code>ä¸º<code>true</code>æ—¶ï¼Œæ‰ä¼šæ¸²æŸ“<code>&lt;Header /&gt;</code>ç»„ä»¶ï¼š</p>
<pre><code>&lt;div&gt;
	{showHeader &amp;&amp; &lt;Header /&gt;}
	&lt;Content /&gt;
&lt;/div&gt;
</code></pre>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ä¸€äº›&quot;falsy&quot;å€¼ï¼Œä»ç„¶ä¼šè¢«Reactæ¸²æŸ“ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç å¹¶ä¸ä¼šåƒä½ é¢„æœŸé‚£æ ·å·¥ä½œï¼Œå› ä¸ºå½“<code>props.messages</code>æ˜¯ç©ºæ•°ç»„æ—¶ï¼Œ<code>0</code>ä»ç„¶ä¼šè¢«æ¸²æŸ“ï¼š</p>
<pre><code>&lt;div&gt;
	{props.message.length &amp;&amp;
		&lt;MessageList messages={props.messages} /&gt;
	}
&lt;/div&gt;
</code></pre>
<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç¡®ä¿ &amp;&amp; ä¹‹å‰çš„å¸ƒå°”è¡¨è¾¾å¼æ€»æ˜¯å¸ƒå°”å€¼ï¼š</p>
<pre><code>&lt;div&gt;
	{props.message.length &gt;0  &amp;&amp;
		&lt;MessageList messages={props.messages} /&gt;
	}
&lt;/div&gt;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[react å­¦ä¹ ç¬”è®°]]></title>
        <id>https://heihei12305.github.io/post/react-xue-xi-bi-ji</id>
        <link href="https://heihei12305.github.io/post/react-xue-xi-bi-ji">
        </link>
        <updated>2019-12-12T06:06:47.000Z</updated>
        <content type="html"><![CDATA[<p>å¤‡å¿˜ï¼š</p>
<ul>
<li>
<p>è„šæ‰‹æ¶ npm i create-react-app</p>
</li>
<li>
<p>åˆ›å»º npx create-react-app [é¡¹ç›®å]</p>
</li>
<li>
<p>pwa serviceWorker ç¦»çº¿åº”ç”¨</p>
</li>
<li>
<p>jsx åŒæ—¶è§£æ html å’Œ js ï¼š é‡åˆ° &lt; æŒ‰ç…§ htmlï¼Œé‡åˆ° { æŒ‰ç…§ js</p>
</li>
<li>
<p>ç±»åä¸º classNameï¼Œä¸èƒ½ç›´æ¥å†™class</p>
</li>
<li>
<p>fragment åœ¨æœ€å¤–é¢å¥—ä¸€å±‚ï¼Œä¸ä¼šå½±å“å¸ƒå±€ï¼ˆç›´æ¥å¥—divæŠ¥é”™ï¼‰</p>
</li>
<li>
<p>jsx return ä¸º htmlæ—¶ï¼Œå¤–é¢å¥—ä¸Šæ‹¬å·å¯æ”¯æŒæ¢è¡Œ</p>
</li>
<li>
<p>ä¿®æ”¹åˆ—è¡¨çš„å€¼çš„æ—¶å€™ï¼Œå…ˆç”¨ä¸´æ—¶å˜é‡è·å–ï¼Œç„¶åä¿®æ”¹ï¼Œç„¶åé‡æ–°èµ‹å€¼ã€‚ä¸å…è®¸ç›´æ¥æ“ä½œåŸæ•°æ®ï¼è™½ç„¶ä¸æŠ¥é”™ï¼Œä½†æ˜¯åæœŸæ€§èƒ½ä¼˜åŒ–ä¼šé‡åˆ°å·¨å¤§éšœç¢ã€‚</p>
</li>
<li>
<p>jsxçš„å‡ ä¸ªå‘</p>
<ul>
<li>æ³¨é‡Šï¼š<code>{/*ç¬¬ä¸€æ¬¡å†™æ³¨é‡Š*/}</code> ä¹Ÿå¯ä»¥å†™ // ä¸è¿‡éœ€è¦æ¢è¡Œï¼Œå»ºè®®å†™ä¸Šé¢é‚£ä¸ª</li>
<li>åœ¨jsxä¸­cssæ ·å¼ä½¿ç”¨classè¦ç”¨className(é˜²æ­¢ä¸classæ··æ·†)</li>
<li>inputä¸­è¾“å…¥çš„valueé»˜è®¤ä¸ä¼šè¢«è§£æä¸ºhtmlï¼Œå¯ä½¿ç”¨ <code>dangerouslySetlnnerHTML = { {__html: item} }</code>æ¥è§£æä¸ºhtml</li>
<li>labelè¾…åŠ©æ ‡ç­¾ï¼Œä¸ºäº†ä¸ä¸jsä¸­çš„foré‡å¤ï¼Œéœ€è¦ä½¿ç”¨htmlForæ¥ä»£æ›¿forå®Œæˆå¯¹æ ‡inputçš„idåŠŸèƒ½ã€‚</li>
</ul>
</li>
<li>
<p>vscode ä¸­çš„å¿«é€Ÿç”Ÿæˆæ’ä»¶ simple react</p>
<ul>
<li>imr <code>import React from 'react'</code>;</li>
<li>imrc <code>import React,{ Component } from 'react'</code>;</li>
<li>impt <code>import Protypes from 'prop-types'</code>;</li>
<li>impc <code>import React, { PureComponent } from 'react'</code></li>
<li>cc</li>
</ul>
</li>
</ul>
<pre><code>class | extends Component {
	state = { | },
	render() {
		return ( | );
	}
}

export default |;
</code></pre>
<ul>
<li>ccc</li>
</ul>
<pre><code>class | extends Component {
	constructor(props) {
		super(props);
		this.state = { | };
	}
	render() {
		return ( | );
	}
}

export default |;
</code></pre>
<ul>
<li>sfc</li>
</ul>
<pre><code>const | = props =&gt; {
	return ( | );
};

export default |;
</code></pre>
<ul>
<li>cdm</li>
</ul>
<pre><code>componentDidMount() {
	|
}
</code></pre>
<ul>
<li>cwm</li>
</ul>
<pre><code>//WARING! To be deprecated in React v17. Use new lifecycle  static getDerivedStateFeomProps instead
componentWillReceiveProps(nextProps) {
	|
}
</code></pre>
<ul>
<li>gds</li>
</ul>
<pre><code>static getDerivedStateFromProps(nextProps, preStat) {
	|
}
</code></pre>
<ul>
<li>scu</li>
</ul>
<pre><code>shouldComponentUpdate(nextProps, nextState) {
	|
}
</code></pre>
<ul>
<li>cwu</li>
</ul>
<pre><code>//WARING! To be deprecated in React v17. Use componentDidUpdate instead
componentWillUpdate(nextProps, nextState) {
	|
}
</code></pre>
<ul>
<li>cdu</li>
</ul>
<pre><code>componentDidUpdate(prevProps, prevSatte) {
	|
}
</code></pre>
<ul>
<li>cwun</li>
</ul>
<pre><code>componentWillUnmount() {
	|
}
</code></pre>
<ul>
<li>cdc</li>
</ul>
<pre><code>componentDidCatch(error, info) {
	|
}
</code></pre>
<ul>
<li>gsdu</li>
</ul>
<pre><code>getSnapshotBeforeUpdate(prevProps, prevState) {
	|
}
</code></pre>
<ul>
<li>ss</li>
</ul>
<pre><code>this.setState({ | : | });
</code></pre>
<ul>
<li>ssf</li>
</ul>
<pre><code>this.setState(prevState =&gt; {
	return { | : prevState.| }
});
</code></pre>
<ul>
<li>ren</li>
</ul>
<pre><code>render() {
	return (
		|
	);
}
</code></pre>
<ul>
<li>rprop</li>
</ul>
<pre><code>class | extends Component {
	state = { | },
	render() {
		return this.props.render({
			|: this.state.|
		})
	}
}
</code></pre>
<ul>
<li>hoc</li>
</ul>
<pre><code>function | (|) {
	return class extends Component {
		constructor(props) {
			super(props);
		}
		
		render() {
			return &lt; | { ...this.props} /&gt;
		}
	};
}
</code></pre>
<ul>
<li>proto-type å¯æ£€éªŒä¼ å€¼ç±»å‹</li>
<li>å¿…é¡»ä¼ é€’ å¯ç”¨ <code>prototype.string.isrequired</code></li>
<li>ç»„ä»¶ç¬¬ä¸€æ¬¡å­˜åœ¨äºDOMä¸­ï¼Œå‡½æ•°æ˜¯ä¸ä¼šè¢«æ‰§è¡Œçš„ï¼Œå¦‚æœå·²ç»å­˜åœ¨äºDOMä¸­ï¼Œå‡½æ•°æ‰ä¼šè¢«æ‰§è¡Œã€‚</li>
<li></li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[mysql  å­¦ä¹ è®°å½•]]></title>
        <id>https://heihei12305.github.io/post/mysql-xue-xi-ji-lu</id>
        <link href="https://heihei12305.github.io/post/mysql-xue-xi-ji-lu">
        </link>
        <updated>2019-12-06T12:05:29.000Z</updated>
        <content type="html"><![CDATA[<p>mysql æ–‡ä»¶å¤¹  C:\Users\24241\Downloads\mysql-8.0\mysql-8.0.18-winx64\bin<br>
root ç™»é™†  mysql -u root -p<br>
æŸ¥è¯¢ç”¨æˆ·åå¯†ç   select host,user,authentication_string from mysql.user;<br>
åˆ›å»ºæ•°æ®åº“ CREATE DATABASE æ•°æ®åº“å;<br>
æ˜¾ç¤ºå½“å‰æ•°æ®åº“ show databases;<br>
ä½¿ç”¨æ•°æ®åº“  use æ•°æ®åº“åï¼›</p>
<p>åˆ›å»ºæ•°æ®è¡¨  CREATE TABLE table_name (column_name column_type);<br>
åˆ é™¤æ•°æ®è¡¨  DROP TABLE table_name ;</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[webpack-æ–‡ä»¶æŒ‡çº¹ç­–ç•¥åŠå°†csså•ç‹¬æå–å‡ºæ¥]]></title>
        <id>https://heihei12305.github.io/post/webpack-wen-jian-zhi-wen-ce-lue</id>
        <link href="https://heihei12305.github.io/post/webpack-wen-jian-zhi-wen-ce-lue">
        </link>
        <updated>2019-11-26T23:31:50.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<h3 id="ä¸€èˆ¬æŒ‡çš„æ˜¯æ‰“åŒ…åè¾“å‡ºçš„æ–‡ä»¶åçš„åç¼€">ä¸€èˆ¬æŒ‡çš„æ˜¯æ‰“åŒ…åè¾“å‡ºçš„æ–‡ä»¶åçš„åç¼€ã€‚</h3>
</blockquote>
<h3 id="æ–‡ä»¶æŒ‡çº¹å¦‚ä½•ç”Ÿæˆ">æ–‡ä»¶æŒ‡çº¹å¦‚ä½•ç”Ÿæˆï¼Ÿ</h3>
<ul>
<li>Hash: å’Œæ•´ä¸ªé¡¹ç›®çš„æ„å»ºç›¸å…³ï¼Œåªè¦é¡¹ç›®æ–‡ä»¶æœ‰ä¿®æ”¹ï¼Œæ•´ä¸ªé¡¹ç›®æ„å»ºçš„hashå€¼å°±ä¼šæ›´æ”¹ã€‚</li>
<li>Chunhash: å’Œwebpack æ‰“åŒ…çš„chunkæœ‰å…³ï¼Œä¸åŒçš„entryä¼šç”Ÿæˆä¸åŒçš„chunkhashå€¼ã€‚</li>
<li>Contenthash: æ ¹æ®æ–‡ä»¶å†…å®¹æ¥å®šä¹‰hashï¼Œæ–‡ä»¶å†…å®¹ä¸å˜ï¼Œåˆ™contenthashä¸å˜ã€‚</li>
</ul>
<br/>
### JSçš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®
<br/>
<p>è®¾ç½®outputçš„filenameï¼Œä½¿ç”¨ [chunkhash]</p>
<pre><code>module.exports = {
	entry:{
		app:'./src/app.js',
		search:'./src/search.js'
	},
	output:{
		filename:'[name][chunkhash:8].js',
		path:__dirname+'/dist'
	}
};
</code></pre>
<h3 id="cssæ–‡ä»¶çš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®">cssæ–‡ä»¶çš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®</h3>
<br/>
<p>å¯¹äºcssæ–‡ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ contenthash<br/><br>
è®¾ç½® MiniCssExtractPlugin çš„ filename</p>
<pre><code>module.exports = {
	entry:{
		app:'./src/app.js',
		search:'./src/search.js'
	},
	output:{
		new MiniCssExtractPlugin({
			filename: `[name][contenthash:8].css`
		})
	}
}
</code></pre>
<h3 id="å›¾ç‰‡çš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®">å›¾ç‰‡çš„æ–‡ä»¶æŒ‡çº¹è®¾ç½®</h3>
<br/>
<table>
<thead>
<tr>
<th style="text-align:center">å ä½ç¬¦</th>
<th style="text-align:center">å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">[ext]</td>
<td style="text-align:center">èµ„æºåç¼€å</td>
</tr>
<tr>
<td style="text-align:center">[name]</td>
<td style="text-align:center">æ–‡ä»¶åç§°</td>
</tr>
<tr>
<td style="text-align:center">[path]</td>
<td style="text-align:center">æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„</td>
</tr>
<tr>
<td style="text-align:center">[folder]</td>
<td style="text-align:center">æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹</td>
</tr>
<tr>
<td style="text-align:center">[contenthash]</td>
<td style="text-align:center">æ–‡ä»¶çš„å†…å®¹hashï¼Œé»˜è®¤æ˜¯md5ç”Ÿæˆ</td>
</tr>
<tr>
<td style="text-align:center">[hash]</td>
<td style="text-align:center">æ–‡ä»¶å†…å®¹çš„Hashï¼Œé»˜è®¤æ˜¯md5ç”Ÿæˆ</td>
</tr>
<tr>
<td style="text-align:center">[emoji]</td>
<td style="text-align:center">ä¸€ä¸ªéšæœºçš„æŒ‡ä»£æ–‡ä»¶å†…å®¹çš„emoj</td>
</tr>
</tbody>
</table>
<br/>
<pre><code>const path = require('path');

module.exports = {
	entry: './src/index.js',
	output:{
		filename: 'bundle.js',
		path:path.resolve(__dirname,'dist')
	},
	module:{
		rules:[
			{
				test:/\.(png|svg|jpg|gif)$/,
				use:[{
					loader:'file-loader',
					options:{
						name:'img/[name][hash:8].[ext]'
					}
				}]
			}
		]
	}
}

</code></pre>
<br/>
<p>ä¸ºäº†å°†cssç‹¬ç«‹å‡ºæ¥</p>
<br/>
<p>å®‰è£… <code>mini-css-extract-plugin</code> æ’ä»¶</p>
<br/>
<p>ä¸<code>style-loader</code>æ’ä»¶äº’æ–¥ï¼Œå› ä¸º <code>mini-css-extract-plugin</code>ä¸ºäº†å°†cssæ ·å¼æå–å‡ºæ¥ï¼Œè€Œ<code>style-loader</code>åˆ™ä¸ºäº†å°†æ ·å¼å†™å…¥headerä¸­ã€‚</p>
<br/>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[webpackæ–‡ä»¶ç›‘å¬åŠçƒ­æ›´æ–°åŸç†]]></title>
        <id>https://heihei12305.github.io/post/webpack-wen-jian-jian-ting-ji-re-geng-xin-yuan-li</id>
        <link href="https://heihei12305.github.io/post/webpack-wen-jian-jian-ting-ji-re-geng-xin-yuan-li">
        </link>
        <updated>2019-11-23T11:40:13.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<h3 id="æ–‡ä»¶ç›‘å¬">æ–‡ä»¶ç›‘å¬</h3>
</blockquote>
<p>æ–‡ä»¶ç›‘å¬æ˜¯åœ¨å‘ç°æºç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨é‡æ–°æ„å»ºå‡ºæ–°çš„è¾“å‡ºæ–‡ä»¶ã€‚</p>
<br/>
<p>åœ¨webpackä¸­å¼€å¯ç›‘å¬æ¨¡å¼ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>å¯åŠ¨webpackå‘½ä»¤æ—¶ï¼Œå¸¦ä¸Š --watch å‚æ•°</li>
<li>åœ¨é…ç½® webpack.config.jsä¸­è®¾ç½® watch: true</li>
</ul>
<h3 id="å”¯ä¸€ç¼ºé™·æ¯æ¬¡éœ€è¦æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨">å”¯ä¸€ç¼ºé™·ï¼šæ¯æ¬¡éœ€è¦æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨</h3>
 <br/>
<blockquote>
<h3 id="æ–‡ä»¶ç›‘å¬åŸç†åˆ†æ">æ–‡ä»¶ç›‘å¬åŸç†åˆ†æ</h3>
</blockquote>
<p>è½®è¯¢åˆ¤æ–­æ–‡ä»¶çš„æœ€åç¼–è¾‘æ—¶é—´æ˜¯å¦å˜åŒ–</p>
<br/>
<p>æŸä¸ªæ–‡ä»¶å‘ç”Ÿäº†å˜åŒ–ï¼Œå¹¶ä¸ä¼šç«‹åˆ»å‘Šè¯‰ç›‘å¬è€…ï¼Œè€Œæ˜¯å…ˆç¼“å­˜èµ·æ¥ï¼Œç­‰ aggregateTimeout</p>
<pre><code>module.export = {
	//é»˜è®¤ä¸ºflaseï¼Œä¹Ÿå°±æ˜¯ä¸å¼€å¯
	watch: true,
	//åªæœ‰å¼€å¯ç›‘å¬æ¨¡å¼ï¼ŒwatchOptionsæ‰æœ‰æ„ä¹‰
	watchOptions: {
		//é»˜è®¤ä¸ºç©ºï¼Œä¸ç›‘å¬çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼Œæ”¯æŒæ­£åˆ™åŒ¹é…
		ignored: /node_modules/,
		//ç›‘å¬åˆ°å˜åŒ–å‘ç”Ÿåä¼šç­‰300mså†å»æ‰§è¡Œï¼Œé»˜è®¤300ms
		aggregateTimeout: 300,
		//åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜åŒ–æ˜¯é€šè¿‡ä¸åœè¯¢é—®ç³»ç»ŸæŒ‡å®šæ–‡ä»¶æœ‰æ²¡æœ‰å˜åŒ–å®ç°çš„ï¼Œé»˜è®¤æ¯ç§’é—®1000æ¬¡
		poll:1000
	}
}
</code></pre>
<blockquote>
<h3 id="æ›´å¥½çš„æ–¹æ³•-çƒ­æ›´æ–°wdswebpack-dev-server">æ›´å¥½çš„æ–¹æ³• çƒ­æ›´æ–°(wds)ï¼šwebpack-dev-server</h3>
</blockquote>
<ul>
<li>æ–¹æ³•1.</li>
</ul>
<br/>
<p>wds é€šå¸¸ä¸ HotModuleReplacementPluginæ’ä»¶ä¸€èµ·ä½¿ç”¨ï¼Œwdsçš„ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ä¼˜åŠ¿æ˜¯ï¼Œå®ƒæ²¡æœ‰ç£ç›˜çš„io,è¾“å‡ºå®Œä¹‹åæ”¾åˆ°å†…å­˜ä¸­ï¼Œè€Œä¸æ˜¯è¾“å‡ºä¸ºæ–‡ä»¶ï¼Œæ‰€ä»¥æ„å»ºé€Ÿåº¦ä¼šæœ‰ä¸€ä¸ªè¾ƒå¤§çš„ä¼˜åŠ¿ã€‚</p>
<br/>
<p>å¦‚æœæŠ¥é”™ä¸º ï¼š <code>'webpack-dev-server' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº æˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚</code>è¯·å…ˆå®‰è£…ä¾èµ–ï¼š<code>yarn add webpack-dev-server -D</code></p>
<br/>
<ul>
<li>æ–¹æ³•2.</li>
</ul>
<br/>
<p>WDM å°† webpack è¾“å‡ºçš„æ–‡ä»¶ä¼ è¾“ç»™æœåŠ¡å™¨,ä½¿ç”¨äºçµæ´»çš„å®šåˆ¶åœºæ™¯ã€‚</p>
<br/>
<pre><code>const express = require('express');
const webpack = require('webpack');
const webpackDevMiddleware = require('webpack-dev-middleware');

const app = express();
const config = require('./webpack.config.js');
const compiler = webpack(config);

app.use(webpackDevMiddleware(compiler,{
	publicPath: config.output.publicPath
}));

app.listen(3000,function(){
	console.log('Example app listening on post 3000\n')
})
</code></pre>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹webpackçš„é…ç½®æ§åˆ¶ä¼šæ›´åŠ çµæ´»</p>
<br/>
<blockquote>
<h3 id="webpack-çƒ­æ›´æ–°åŸç†">webpack çƒ­æ›´æ–°åŸç†</h3>
</blockquote>
<ul>
<li>Webpack Compile: å°†JSç¼–è¯‘æˆBundle</li>
<li>HMR Serverï¼š å°†çƒ­æ›´æ–°çš„æ–‡ä»¶è¾“å‡ºç»™HMR Runtime</li>
<li>Bundle server: æä¾›æ–‡ä»¶åœ¨æµè§ˆå™¨çš„è®¿é—®</li>
<li>HMR Runtime: ä¼šè¢«æ³¨å…¥åˆ°æµè§ˆå™¨ï¼Œæ›´æ–°æ–‡ä»¶çš„å˜åŒ–</li>
<li>bundle.js æ„å»ºè¾“å‡ºçš„æ–‡ä»¶</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ES6-ä½ çœŸçš„æ‡‚symbolå—â“ğŸ¦(ä¸Š)]]></title>
        <id>https://heihei12305.github.io/post/es6-ni-zhen-de-dong-symbol-ma</id>
        <link href="https://heihei12305.github.io/post/es6-ni-zhen-de-dong-symbol-ma">
        </link>
        <updated>2019-11-16T01:44:13.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>æ‰€è§å³æ‰€å¾—ï¼Œæ‰€è§å³æ‰€ç¢</p>
</blockquote>
<br/>
<blockquote>
<h3 id="ä»ä¸€ä¸ªé—®é¢˜å¼•å…¥ä½ çŸ¥é“ç°åœ¨jsä¸­æœ‰å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹å—åˆ†åˆ«æ˜¯ä»€ä¹ˆå‘¢">ä»ä¸€ä¸ªé—®é¢˜å¼•å…¥ï¼Œä½ çŸ¥é“ç°åœ¨jsä¸­æœ‰å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿåˆ†åˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</h3>
</blockquote>
<p>ä½œä¸ºä¸€é“ç»å…¸é¢è¯•é¢˜ï¼Œç›¸ä¿¡å„ä½è‚¯å®šè„±å£å°±æ¥ï¼šå­—ç¬¦ä¸²å‹ï¼Œæ•°å­—å‹ï¼Œå¸ƒå°”å‹ï¼Œnull,undefined,es6æ–°å¼•å…¥çš„symbolï¼Œè¿˜å¤„äºECMAScript æ ‡å‡†åŒ–è¿‡ç¨‹ä¸­çš„ ç¬¬ä¸‰é˜¶æ®µ çš„bigInt<br/></p>
<p>é‚£ä¹ˆsymbolåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br/></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¼šå¼€å§‹è¿›å…¥symbolçš„ä¸–ç•Œã€‚</p>
<br/>
<p>å¤§æ¦‚ç›®å½•ï¼š</p>
<ul>
<li>symbolåŸºç¡€</li>
<li>well-konw symbol æš´éœ²å†…éƒ¨æ“ä½œ</li>
<li>å…ƒç¼–ç¨‹</li>
</ul>
<p>å†…å®¹ä¸»è¦æ¥è‡ª</p>
<br/>
<ul>
<li>æ·±å…¥ç†è§£es6</li>
<li>ä½ ä¸çŸ¥é“çš„javaScriptä¸‹</li>
<li><a href="https://juejin.im/post/5a0e65c1f265da430702d6b9">[è¯‘]ES6 ä¸­çš„å…ƒç¼–ç¨‹ï¼šç¬¬ä¸€éƒ¨åˆ† â€”â€” Symbolï¼Œäº†ä¸èµ·çš„ Symbol</a></li>
</ul>
<h2 id="symbolåŸºç¡€">symbolåŸºç¡€</h2>
<br/>
<h3 id="symbol-æ˜¯å®Œå…¨å”¯ä¸€çš„">symbol æ˜¯å®Œå…¨å”¯ä¸€çš„</h3>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸€ä¸ªæ–°åˆ›å»ºçš„Symboléƒ½æœ‰ä¸€ä¸ªå®Œå…¨å”¯ä¸€çš„å€¼ã€‚å¦‚æœä½ æ–°åˆ›å»ºäº†ä¸€ä¸ªSymbolï¼Œåœ¨JSå¼•æ“å†…éƒ¨ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å€¼ã€‚</p>
<br/>
<p>Symbolå‡½æ•°æ¥å—ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œå…¶å¯ä»¥è®©ä½ æ·»åŠ ä¸€æ®µæ–‡æœ¬æè¿°å³å°†åˆ›å»ºçš„Symbolï¼Œè¿™æ®µæè¿°ä¸å¯ç”¨äºå±æ€§è®¿é—®ï¼Œä½†æ˜¯å»ºè®®ä½ åœ¨æ¯ä¸€æ¬¡åˆ›å»º Symbol æ—¶éƒ½èƒ½åŠ è¿™æ ·ä¸€æ®µæè¿°ï¼Œä»¥ä¾¿äºé˜…è¯»ä»£ç å’Œè°ƒè¯•Symbolç¨‹åºã€‚</p>
<pre><code>let firstName = Symbol(&quot;first name&quot;);
let person = { };

person[firstName] = 'Nicholas';

console.log(&quot;first name&quot; in person);  //false
console.log(person[firstName]); //'Nicholas'
console.log(firstName); //&quot;Symbol(firstName)&quot;
</code></pre>
<p>Symbol çš„æè¿°è¢«å­˜å‚¨åœ¨å†…éƒ¨çš„[[Description]]å±æ€§ä¸­ï¼Œåªæœ‰å½“è°ƒç”¨Symbolçš„toString()æ–¹æ³•æ—¶æ‰å¯ä»¥è¯»å–è¿™ä¸ªå±æ€§ã€‚åœ¨æ‰§è¡Œ <code>console.log()</code>æ—¶ï¼Œéšå¼è°ƒç”¨äº† firstName çš„ toString() æ–¹æ³•ï¼Œæ‰€ä»¥å®ƒçš„æè¿°ä¼šè¢«æ‰“å°åˆ°æ—¥å¿—ä¸­ï¼Œä½†ä¸èƒ½ç›´æ¥åœ¨ä»£ç é‡Œè®¿é—®[[Description]]</p>
<br/>
<h3 id="symbol-åˆ¤æ–­">symbol åˆ¤æ–­</h3>
<p>å› ä¸ºsymbolæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥åˆ¤æ–­symbolé¦–é€‰ä¹Ÿæœ€å‡†ç¡®çš„æ£€æµ‹æ–¹å¼æ˜¯ typeof</p>
<pre><code>console.log(typeof firstName );//'symbol'
</code></pre>
<h3 id="symbolå…±äº«ç»“æ„">symbolå…±äº«ç»“æ„</h3>
<br/>
<p>æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½å¸Œæœ›åœ¨ä¸åŒçš„ä»£ç ä¸­å…±äº«åŒä¸€ä¸ªSymbolï¼Œä¾‹å¦‚ï¼Œåœ¨ä½ çš„åº”ç”¨ä¸­æœ‰ä¸¤ç§ä¸åŒçš„å¯¹è±¡ç±»å‹ï¼Œä½†æ˜¯ä½ å¸Œæœ›å®ƒä»¬ä½¿ç”¨åŒä¸€ä¸ªSymbol å±æ€§æ¥è¡¨ç¤ºä¸€ä¸ªç‹¬ç‰¹çš„æ ‡è¯†ç¬¦ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œåœ¨å¾ˆå¤§çš„ä»£ç åº“ä¸­æˆ–è·¨æ–‡ä»¶è¿½è¸ª Symbol éå¸¸å›°éš¾è€Œä¸”å®¹æ˜“å‡ºé”™ï¼Œå‡ºäºè¿™äº›åŸå› ï¼ŒECMAScript 6 æå‡ºäº†ä¸€ä¸ªå¯ä»¥éšæ—¶è®¿é—®çš„å…¨å±€ Symbol æ³¨å†Œè¡¨ã€‚</p>
<br/>
<p>å¦‚æœæƒ³åˆ›å»ºä¸€ä¸ªå¯å…±äº«çš„Symbole,è¦ä½¿ç”¨<code>Symbol.for()æ–¹æ³•</code>ã€‚å®ƒåªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿå°±æ˜¯å³å°†åˆ›å»ºçš„ Symbol çš„å­—ç¬¦ä¸²æ ‡è¯†ç¬¦ï¼Œè¿™ä¸ªå‚æ•°åŒæ ·ä¹Ÿè¢«ç”¨äºSymbolçš„æè¿°ã€‚</p>
<br/>
<pre><code>let uid = Symbol.for(&quot;uid&quot;);
let object = {};

object[uid] = &quot;123456&quot;;

console.log(object[uid]); //'123456'
console.log(uid)
</code></pre>
<p>Symbol.for()æ–¹æ³•é¦–å…ˆåœ¨å…¨å±€ Symbol æ³¨å†Œè¡¨ä¸­æœç´¢é”®ä¸º&quot;uid&quot;çš„Symbolæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œç›´æ¥è¿”å›å·²æœ‰çš„ Symbol ;å¦åˆ™ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„Symbol,å¹¶ä½¿ç”¨è¿™ä¸ªé”®åœ¨Symbolå…¨å±€æ³¨å†Œè¡¨ä¸­æ³¨å†Œï¼Œéšå³è¿”å›æ–°åˆ›å»ºçš„Symbolã€‚</p>
<br/>
<p>åç»­å†ä¼ å…¥åŒæ ·çš„é”®è°ƒç”¨ Symbol.for() ä¼šè¿”å›ç›¸åŒçš„Symbol</p>
<pre><code>let uid = Symbol.for(&quot;uid&quot;);
let object = {};
object[uid] = &quot;123456&quot;;

let uid2 = Symbol.for('uid');

console.log(uid === uid2); // true
</code></pre>
<p>è¿˜æœ‰ä¸€ä¸ªä¸ Symbol å…±äº«æœ‰å…³çš„ç‰¹æ€§ï¼šå¯ä»¥ä½¿ç”¨ Symbol.keyFor()æ–¹æ³•åœ¨Symbolå…¨å±€æ³¨å†Œè¡¨ä¸­æ£€ç´¢ä¸Symbolæœ‰å…³çš„é”®ã€‚</p>
<pre><code>let uid = Symbol.for(&quot;uid&quot;);
let object = {};

object[uid] = &quot;123456&quot;;
let uid2 = Symbol.for('uid');

console.log(Symbol.keyFor(uid));//&quot;uid&quot;
console.log(Symbol.keyFor(uid2));//&quot;uid&quot;
console.log(Symbol.keyFor(uid3));//&quot;undefined&quot;
</code></pre>
<br/>
<p>symbolå…¨å±€æ³¨å†Œè¡¨æ˜¯ä¸€ä¸ªç±»ä¼¼å…¨å±€ä½œç”¨åŸŸçš„å…±äº«ç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä¸èƒ½å‡è®¾ç›®å‰ç¯å¢ƒä¸­å­˜åœ¨å“ªäº›é”®ã€‚å½“ä½¿ç”¨ç¬¬ä¸‰æ–¹ç»„ä»¶æ—¶ï¼Œå°½é‡ä½¿ç”¨Symbolé”®çš„å‘½åç©ºé—´ä»¥å‡å°‘å‘½åå†²çªï¼Œä¹Ÿå³åŠ ä¸Šå‰ç¼€ã€‚é¢å¤–æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šè¿™ä¸ªæ³¨å†Œä¸­å¿ƒæ˜¯è·¨åŸŸçš„ï¼Œæ„å‘³ç€ iframe æˆ–è€…sevice worker ä¸­çš„ Symbol ä¼šä¸å½“å‰ frame Symbol ç›¸ç­‰ã€‚</p>
<br/>
<h2 id="well-konw-symbol-æš´éœ²å†…éƒ¨æ“ä½œ">well-konw symbol æš´éœ²å†…éƒ¨æ“ä½œ</h2>
<p>ECMAScript5 çš„ä¸€ä¸ªä¸­å¿ƒä¸»æ—¨æ˜¯å°†JavaScriptä¸­çš„ä¸€äº›â€œç¥å¥‡â€çš„éƒ¨åˆ†æš´éœ²å‡ºæ¥ï¼Œå¹¶è¯¦å°½å®šä¹‰äº†è¿™äº›å¼€å‘è€…ä»¬ä¸­å½“æ—¶æ¨¡æ‹Ÿä¸äº†çš„åŠŸèƒ½ã€‚ECMAScript6å»¶ç»­äº†è¿™ä¸ªä¼ ç»Ÿï¼Œæ–°æ ‡å‡†ä¸­ä¸»è¦é€šè¿‡ä¸­åŸå‹é“¾ä¸Šå®šä¹‰äº†ä¸Symbolç›¸å…³çš„å±æ€§æ¥æš´éœ²æ›´å¤šçš„è¯­è¨€å†…éƒ¨é€»è¾‘ã€‚</p>
<br/>
<p>åŒ…æ‹¬</p>
<ul>
<li>Symbol.hasInstance ä¸€ä¸ªåœ¨æ‰§è¡Œinstanceof æ—¶è°ƒç”¨çš„å†…éƒ¨æ–¹æ³•ï¼Œç”¨äºæ£€æµ‹å¯¹è±¡çš„ç»§æ‰¿ä¿¡æ¯ã€‚</li>
<li>Symbol.isConcatSpreadable ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨äºè¡¨ç¤ºå½“ä¼ é€’ä¸€ä¸ªé›†åˆä½œä¸º<code>Array.prototype.concat()</code>æ–¹æ³•çš„å‚æ•°æ—¶ï¼Œæ˜¯å¦åº”è¯¥å°†é›†åˆå†…çš„å…ƒç´ è§„æ•´åˆ°åŒçº§ã€‚</li>
<li>Symbol.iterator ä¸€ä¸ªè¿”å›è¿­ä»£å™¨çš„æ–¹æ³•ã€‚</li>
<li>Symbol.match ä¸€ä¸ªåœ¨è°ƒç”¨<code>String.prototype.match()</code>æ–¹æ³•æ—¶è°ƒç”¨çš„æ–¹æ³•ï¼Œç”¨äºæ¯”è¾ƒå­—ç¬¦ä¸²ã€‚</li>
<li>Symbol.replace ä¸€ä¸ªåœ¨è°ƒç”¨ <code>String.prototype.replace()</code>æ–¹æ³•æ—¶è°ƒç”¨çš„æ–¹æ³•ï¼ŒåŒäºæ›¿æ¢å­—ç¬¦ä¸²çš„å­ä¸²ã€‚</li>
<li>Symbol.search ä¸€ä¸ªåœ¨è°ƒç”¨<code>String.prototype.search()</code>æ–¹æ³•æ—¶è°ƒç”¨çš„æ–¹æ³•ï¼Œç”¨äºå­—ç¬¦ä¸²ä¸­å®šä½å­ä¸²ã€‚</li>
<li>Symbol.split ä¸€ä¸ªåœ¨è°ƒç”¨<code>String.prototype.split()</code>æ–¹æ³•æ—¶è°ƒç”¨çš„æ–¹æ³•ï¼Œç”¨äºåˆ†å‰²å­—ç¬¦ä¸²ã€‚</li>
<li>Symbol.toPrimitive ä¸€ä¸ªè¿”å›å¯¹è±¡åŸå§‹å€¼çš„æ–¹æ³•ã€‚</li>
<li>Symbol.toStringTag ä¸€ä¸ªåœ¨è°ƒç”¨ <code>Object.prototype.toString()</code>æ–¹æ³•æ—¶ä½¿ç”¨çš„å­—ç¬¦ä¸²ï¼Œç”¨äºåˆ›å»ºå¯¹è±¡æè¿°ã€‚</li>
<li>Symbol.unscopables ä¸€ä¸ªå®šä¹‰äº†ä¸€äº›ä¸å¯è¢«withè¯­å¥å¼•ç”¨çš„å¯¹è±¡å±æ€§åç§°çš„å¯¹è±¡é›†åˆã€‚</li>
</ul>
<p>é‡å†™ä¸€ä¸ªç”±<code>well-known Symbol</code>å®šä¹‰çš„æ–¹æ³•ï¼Œä¼šå¯¼è‡´å¯¹è±¡å†…éƒ¨çš„é»˜è®¤è¡Œä¸ºè¢«æ”¹å˜ï¼Œä»è€Œä¸€ä¸ªæ™®é€šå¯¹è±¡ä¼šå˜æˆä¸€ä¸ªå¥‡å¼‚å¯¹è±¡ï¼ˆexotic objectï¼‰ã€‚ä½†å®é™…ä¸Šå…¶ä¸ä¼šå¯¹ä½ çš„ä»£ç äº§ç”Ÿä»»ä½•å½±å“ï¼Œåªæ˜¯åœ¨è§„èŒƒä¸­æè¿°å¯¹è±¡çš„æ–¹å¼æ”¹å˜äº†ã€‚</p>
<br/>
<h3 id="symbolhasinstance-æ–¹æ³•">Symbol.hasInstance æ–¹æ³•</h3>
<br/>
<p>æ¯ä¸€ä¸ªå‡½æ•°ä¸­éƒ½æœ‰ä¸€ä¸ª<code>Symbol.hasInstance</code>æ–¹æ³•ï¼Œç”¨äºç¡®å®šå¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°çš„å®ä¾‹ã€‚è¯¥æ–¹æ³•åœ¨<code>Function.prototype</code>ä¸­å®šä¹‰ï¼Œæ‰€ä»¥æ‰€æœ‰çš„å‡½æ•°éƒ½ç»§æ‰¿äº†<code>instance</code>å±æ€§çš„é»˜è®¤è¡Œä¸ºã€‚ä¸ºäº†ç¡®ä¿      <code>Symbol.hasInstance</code>ä¸ä¼šè¢«æ„å¤–é‡å†™ï¼Œè¯¥æ–¹æ³•è¢«å®šä¹‰ä¸ºä¸å¯å†™ï¼Œä¸å¯é…ç½®å¹¶ä¸”ä¸å¯æšä¸¾ã€‚</p>
<br/>
<p><code>Symbol.hasInstance</code>æ–¹æ³•åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³è¦æ£€æŸ¥çš„å€¼ã€‚å¦‚æœä¼ å…¥çš„å€¼æ˜¯å‡½æ•°çš„å®ä¾‹ï¼Œåˆ™è¿”å›trueã€‚</p>
<pre><code>obj instanceof Array;
</code></pre>
<p>ç­‰åŒäº</p>
<pre><code>Array[Symbol.hasInstance](obj);
</code></pre>
<p>æœ¬è´¨ä¸Šï¼ŒECMAScript6åªæ˜¯å°†instanceofæ“ä½œç¬¦é‡æ–°å®šä¹‰ä¸ºæ­¤æ–¹æ³•çš„ç®€å†™è¯­æ³•ã€‚ç°åœ¨å¼•å…¥æ–¹æ³•è°ƒç”¨åï¼Œå°±å¯ä»¥éšæ„æ”¹å˜instanceofçš„è¿è¡Œæ–¹å¼äº†ã€‚</p>
<br/>
<p>ä¸¾ä¸ªğŸŒ°ï¼Œå‡è®¾ä½ æƒ³å®šä¹‰â˜ï¸æ— å®ä¾‹çš„å‡½æ•°ï¼Œå°±å¯ä»¥å°†<code>Symbol.hasInstance</code>çš„è¿”å›å€¼ç¡¬ç¼–ç ä¸ºfalseã€‚</p>
<pre><code>function MyObject() {
    //ç©ºå‡½æ•°
}

Object.defineProperty(MyObject,Symbole.hasInstance,{
    value: function(v) {
        return false;
    }
});

let obj = new MyObject();

console.log(obj instanceof MyObject);   //false
</code></pre>
<p>åªæœ‰é€šè¿‡<code>Object.defineProperty()</code>æ–¹æ³•æ‰èƒ½å¤Ÿæ”¹å†™ä¸€ä¸ªä¸å¯å†™å±æ€§ï¼Œä¸Šé¢çš„ç¤ºä¾‹è°ƒç”¨æ–¹æ³•æ¥æ”¹å†™<code>Symbol.hasInstance</code>,ä¸ºå…¶å®šä¹‰ä¸€ä¸ªæ€»æ˜¯è¿”å›falseçš„æ–°å‡½æ•°ï¼Œå³ä½¿objå®é™…ä¸Šç¡®å®æ˜¯MyObjectç±»çš„å®ä¾‹ï¼Œåœ¨è°ƒç”¨è¿‡<code>Object.defineProperty()</code>æ–¹æ³•ä¹‹åï¼Œinstanceè¿ç®—ç¬¦è¿”å›çš„ä¹Ÿæ˜¯falseã€‚</p>
<br/>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åŸºäºä»»æ„æ¡ä»¶ï¼Œé€šè¿‡å€¼æ£€æŸ¥æ¥ç¡®å®šè¢«æ£€æŸ¥çš„æ˜¯å¦ä¸ºå®ä¾‹ã€‚ä¸¾ä¸ªğŸŒ°ï¼Œå¯ä»¥å°†1ï½100çš„æ•°å­—å®šä¹‰ä¸ºä¸€ä¸ªç‰¹æ®Šæ•°å­—ç±»å‹çš„å®ä¾‹ï¼Œå…·ä½“å®ç°çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>function SpecialNumber() {
    // ç©ºå‡½æ•°
}

Object.defineProperty(SpecialNumber,Symbol.hasInstance,{
    value: function(v) {
        return (v instance Number) &amp;&amp; (V &gt;= 1 &amp;&amp; V &lt;= 100);
    }
});

var two = new Number(2),
    zero = new Number(0);
console.log(two instanceof SpecialNumber); //true
console.log(zero instanceof SpecialNumber); //false
</code></pre>
<blockquote>
<p>ä¹Ÿå¯ä»¥é‡å†™æ‰€æœ‰çš„å†…å»ºå‡½æ•°ï¼ˆä¾‹å¦‚Dateå’ŒErrorå‡½æ•°ï¼‰é»˜è®¤çš„Symbol.hasInstanceå±æ€§ã€‚ä½†æ˜¯è¿™æ ·åšçš„åæœæ˜¯ä»£ç çš„è¿è¡Œç»“æœå˜å¾—ä¸å¯é¢„æœŸè€Œä¸”æœ‰å¯èƒ½ä»¤äººæ„Ÿåˆ°ğŸ˜–ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æ¨èä½ è¿™ä¹ˆåšï¼Œæœ€å¥½çš„åšæ³•æ˜¯ï¼Œåªåœ¨å¿…è¦çš„æƒ…å†µä¸‹æ”¹å†™ä½ è‡ªå·±å£°æ˜çš„å‡½æ•°çš„Symbol.hasInstance å±æ€§ã€‚</p>
</blockquote>
<h3 id="symbolisconcatspreadableå±æ€§">Symbol.isConcatSpreadableå±æ€§</h3>
<br/>
<p>JavaScriptæ•°ç»„çš„<code>concat()</code>æ–¹æ³•è¢«è®¾è®¡ç”¨äºæ‹¼æ¥ä¸¤ä¸ªæ•°ç»„ï¼Œä½¿ç”¨æ–¹æ³•ï¼š</p>
<pre><code>let color1 = ['red','green'],
    color2 = color1.concat(['blue','black']);

    console.log(color2.length);  //4
    console.log(color2); //['red','green','blue','black']
</code></pre>
<p><code>concat()</code>æ–¹æ³•ä¹Ÿå¯ä»¥æ¥å—éæ•°ç»„å‚æ•°ï¼Œæ­¤æ—¶è¯¥æ–¹æ³•åªä¼šå°†è¿™äº›å‚æ•°é€ä¸€æ·»åŠ åˆ°æ•°ç»„æœ«å°¾</p>
<pre><code>let color1 = ['red','green'],
    color2 = color1.concat(['blue','black'],'brown');

    console.log(color2.length);  //5
    console.log(color2); //['red','green','blue','black','brown']
</code></pre>
<p>ä¸ºä»€ä¹ˆæ•°ç»„å‚æ•°å°±è¦åŒºåˆ†å¯¹å¾…å‘¢ï¼ŸJavaScriptè§„èŒƒå£°æ˜ï¼Œå‡¡æ˜¯ä¼ å…¥æ•°ç»„å‚æ•°ï¼Œå°±ä¼šè‡ªåŠ¨å°†å®ƒä»¬åˆ†è§£ä¸ºç‹¬ç«‹å…ƒç´ ã€‚åœ¨ECMAScript6æ ‡å‡†ä»¥å‰ï¼Œæˆ‘ä»¬æ ¹æœ¬æ— æ³•è°ƒæ•´è¿™ä¸ªç‰¹æ€§ã€‚<br>
<br/><br>
Symbol.isConcatSpreadable å±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœè¯¥å±æ€§å€¼ä¸ºtrueï¼Œåˆ™è¡¨æ˜å¯¹è±¡æœ‰lengthå±æ€§å’Œæ•°å­—é”®ï¼Œæ•…å®ƒçš„æ•°å€¼å‹å±æ€§å€¼åº”è¯¥è¢«ç‹¬ç«‹æ·»åŠ åˆ°<code>concat()</code>è°ƒç”¨ç»“æœä¸­ã€‚å®ƒä¸å…¶ä»–well-known Symbolä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªSymbolå±æ€§é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šå‡ºç°åœ¨æ ‡å‡†å¯¹è±¡ä¸­ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªå¯é€‰å±æ€§ï¼Œç”¨äºå¢å¼ºä½œç”¨äºç‰¹å®šå¯¹è±¡ç±»å‹çš„<code>concat()</code>æ–¹æ³•çš„åŠŸèƒ½ï¼Œæœ‰æ•ˆç®€åŒ–å…¶é»˜è®¤ç‰¹æ€§ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•ï¼Œå®šä¹‰ä¸€ä¸ª<code>åœ¨concat()</code>è°ƒç”¨ä¸­ä¸æ•°ç»„è¡Œä¸ºç›¸è¿‘çš„æ–°ç±»å‹ã€‚</p>
<pre><code>let collection = {
    0: 'Hello',
    1: 'world',
    length:2,
    [Symbol.isConcatSpreadable]: true
};

let messages = [ 'Hi' ].concat(collection);

console.log(messages); //['Hi,'Hello','world']
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå®šä¹‰æ¥ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ collection: å®ƒæœ‰ä¸€ä¸ªlengthå±æ€§ï¼Œè¿˜æœ‰ä¸¤ä¸ªæ•°å­—é”®ï¼Œsymbol.isConcatSpreadableå±æ€§ä¸ºtrueè¡¨æ˜å±æ€§å€¼åº”å½“è¢«å½“ä½œç‹¬ç«‹å…ƒç´ æ·»åŠ åˆ°æ•°ç»„ä¸­ã€‚</p>
<blockquote>
<p>ä¹Ÿå¯ä»¥åœ¨æ´¾ç”Ÿæ•°ç»„å­ç±»æ—¶å°†Symbol.isCaoncatSpreadableè®¾ç½®ä¸ºfalse,ä»è€Œé˜²æ­¢å…ƒç´ åœ¨è°ƒç”¨<code>concat()</code>æ–¹æ³•æ—¶è¢«åˆ†è§£ã€‚</p>
</blockquote>
<h3 id="æ­£åˆ™ç›¸å…³çš„symbolmatchsymbolreplacesymbolsearchå’Œsymbolsplitå±æ€§">æ­£åˆ™ç›¸å…³çš„Symbol.match,Symbol.replace,Symbol.searchå’ŒSymbol.splitå±æ€§</h3>
<br/>
<p>åœ¨JavaScriptä¸­ï¼Œå­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼é€šå¸¸ä¸€èµ·å‡ºç°ï¼Œå°¤å…¶æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„å‡ ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ¥å—æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºå‚æ•°ï¼š</p>
<ul>
<li><code>match(regex)</code> ç¡®å®šç»™å®šå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼regex</li>
<li><code>replace(regex,replacement)</code> å°†å­—ç¬¦ä¸²ä¸­åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼regexçš„éƒ¨åˆ†æ›¿æ¢ä¸ºreplacement</li>
<li><code>search(regex)</code> åœ¨å­—ç¬¦ä¸²ä¸­å®šä½åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼regexçš„ä½ç½®ç´¢å¼•</li>
<li><code>split(regex)</code> æŒ‰ç…§åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼regexçš„å…ƒç´ å°†å­—ç¬¦ä¸²åˆ†åˆ‡ï¼Œå¹¶å°†ç»“æœå­˜å…¥æ•°ç»„ä¸­ã€‚</li>
</ul>
<p>ä¸­ECMAScript6ä¸­ï¼Œå®šä¹‰äº†ä¸ä¸Šè¿°4ä¸ªæ–¹æ³•ç›¸å¯¹åº”çš„4ä¸ªSymbol,å°†è¯­è¨€å†…å»ºçš„RegExpå¯¹è±¡çš„åŸç”Ÿç‰¹æ€§å®Œå…¨å¤–åŒ…å‡ºæ¥ã€‚</p>
<br/>
<ul>
<li>Symbol.match æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°ï¼Œå¦‚æœåŒ¹é…æˆåŠŸåˆ™è¿”å›åŒ¹é…å…ƒç´ çš„æ•°ç»„ï¼Œå¦åˆ™è¿”å›nullã€‚</li>
<li>Symbol.replace æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°å’Œä¸€ä¸ªæ›¿æ¢ç”¨çš„å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆä¾ç„¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li>
<li>Symbol.search æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œå¦‚æœåŒ¹é…åˆ°å†…å®¹ï¼Œåˆ™è¿”å›æ•°å­—ç±»å‹çš„ç´¢å¼•ä½ç½®ï¼Œå¦åˆ™è¿”å›-1ã€‚</li>
<li>Symbol.split æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œæ ¹æ®åŒ¹é…å†…å®¹å°†å­—ç¬¦ä¸²åˆ†è§£ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«åˆ†è§£åç‰‡æ®µçš„æ•°ç»„ã€‚</li>
</ul>
<p>å¦‚æœå¯ä»¥åœ¨å¯¹è±¡ä¸­å®šä¹‰è¿™äº›å±æ€§ï¼Œå³ä½¿ä¸ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å’Œä»¥æ­£åˆ™è¡¨è¾¾å¼ä¸ºå‚çš„æ–¹æ³•ä¹Ÿå¯ä»¥åœ¨å¯¹è±¡ä¸­å®ç°æ¨¡å¼åŒ¹é…ã€‚ä¸‹é¢çš„ç¤ºä¾‹å°†å±•ç¤ºSymbolçš„å®é™…ç”¨æ³•ï¼š</p>
<pre><code>//å®é™…ä¸Šç­‰ä»·äº /^.{10}$/
let hasLengthOf10 = {
    [Symbol.match]: function(value) {
        return value.length === 10 ? [value] : null;
    },
    [Symbol.replace]: function(value, replacement) {
        return value.length === 10 ? replacement : value;
    },
    [Symbol.search]: function(value) {
        return value.length === 10 ? 0 : -1;
    },
    [Symbol.split]: function(value) {
        return value.length === 10 ? [, ] : [value];
    }
};

let message1 = 'Hello world', //11ä¸ªå­—ç¬¦
    message2 = 'Hello Jshn'; //10ä¸ªå­—ç¬¦

let match1 = message1.match(hasLengthOf10),
    match2 = message2.match(hasLengthOf10);

console.log(match1,match2); //null [&quot;Hello John&quot;]

let replace1 = message1.replace(hasLengthOf10),
    replace2 = message2.replace(hasLengthOf10);

console.log(replace1,replace2); //'Hello world' undefined

let search1 = message1.search(hasLengthOf10),
    search2 = message2.search(hasLengthOf10);

console.log(search1,search2); //-1 0

let split1 = message1.split(hasLengthOf10),
    split2 = message2.split(hasLengthOf10);

console.log(split1,split2); //['Hello world'] [empty]
</code></pre>
<h3 id="symboltoprimitive-æ–¹æ³•">Symbol.toPrimitive æ–¹æ³•</h3>
<br/>
<p>åœ¨JavaScriptå¼•æ“ä¸­ï¼Œå½“æ‰§è¡Œç‰¹å®šæ“ä½œæ—¶ï¼Œç»å¸¸ä¼šå°è¯•å°†å¯¹è±¡è½¬åŒ–ä¸ºåŸå§‹å€¼ï¼Œä¾‹å¦‚ï¼Œæ¯”è¾ƒä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœä½¿ç”¨åŒç­‰å·ï¼ˆ==ï¼‰è¿ç®—ç¬¦ï¼Œå¯¹è±¡ä¼šåœ¨æ¯”è¾ƒæ“ä½œæ‰§è¡Œå‰è¢«è½¬åŒ–ä¸ºä¸€ä¸ªåŸå§‹å€¼ã€‚åˆ°åº•ä½¿ç”¨å“ªä¸€ä¸ªåŸå§‹å€¼ä»¥å‰ç”±å†…éƒ¨å†³å®šçš„ï¼Œä½†åœ¨ECMAScript6çš„æ ‡å‡†ä¸­ï¼Œé€šè¿‡Symbol,toPrimitiveæ–¹æ³•å¯ä»¥æ›´æ”¹é‚£ä¸ªæš´éœ²å‡ºæ¥çš„å€¼ã€‚</p>
<br/>
<p>Symbol.toPrimitive æ–¹æ³•è¢«å®šä¹‰åœ¨æ¯ä¸€ä¸ªæ ‡å‡†ç±»å‹çš„åŸå‹ä¸Šï¼Œå¹¶ä¸”è§„å®šå½“å¯¹è±¡è¢«è½¬æ¢ä¸ºåŸå§‹å€¼æ—¶åº”å½“æ‰§è¡Œçš„æ“ä½œã€‚æ¯å½“æ‰§è¡ŒåŸå§‹å€¼è½¬æ¢æ—¶ï¼Œæ€»ä¼šè°ƒç”¨Symbol.Primitiveæ–¹æ³•å¹¶ä¼ å…¥ä¸€ä¸ªå€¼ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå€¼åœ¨è§„èŒƒä¸­è¢«ç§°åšç±»å‹æç¤ºï¼ˆhintï¼‰ã€‚ç±»å‹æç¤ºå‚æ•°çš„å€¼åªæœ‰ä¸‰ç§é€‰æ‹©ï¼šâ€œnumberâ€,&quot;string&quot;æˆ–â€œdefaultâ€ï¼Œä¼ é€’è¿™äº›å‚æ•°æ—¶ï¼ŒSymbol.toprimitiveè¿”å›çš„åˆ†åˆ«æ˜¯ï¼šæ•°å­—ï¼Œå­—ç¬¦ä¸²æˆ–æ— ç±»å‹åå¥½çš„å€¼ã€‚</p>
<br/>
<p>å¯¹äºå¤§å¤šæ•°æ ‡å‡†å¯¹è±¡ï¼Œæ•°å­—æ¨¡å¼æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼Œæ ¹æ®ä¼˜å…ˆçº§çš„é¡ºåºæ’åˆ—å¦‚ä¸‹ï¼š</p>
<ol>
<li>è°ƒç”¨<code>valueOf()</code>æ–¹æ³•ï¼Œå¦‚æœç»“æœä¸ºåŸå§‹å€¼ï¼Œåˆ™è¿”å›ã€‚</li>
<li>å¦åˆ™ï¼Œè°ƒç”¨<code>toString()æ–¹æ³•</code>ï¼Œå¦‚æœç»“æœä¸ºåŸå§‹å€¼ï¼Œåˆ™è¿”å›ã€‚</li>
<li>å¦‚æœå†æ— å¯é€‰çš„å€¼ï¼Œåˆ™æŠ›å‡ºé”™è¯¯ã€‚</li>
</ol>
<p>åŒæ ·ï¼Œå¯¹äºå¤§å¤šæ•°æ ‡å‡†å¯¹è±¡ï¼Œå­—ç¬¦ä¸²æ¨¡å¼æœ‰ä»¥ä¸‹ä¼˜å…ˆçº§æ’åºï¼š</p>
<ol>
<li>è°ƒç”¨<code>toString()</code>æ–¹æ³•ï¼Œå¦‚æœç»“æœä¸ºåŸå§‹å€¼ï¼Œåˆ™è¿”å›ã€‚</li>
<li>å¦åˆ™ï¼Œè°ƒç”¨<code>valueOf()</code>æ–¹æ³•ï¼Œå¦‚æœç»“æœä¸ºåŸå§‹å€¼ï¼Œåˆ™è¿”å›ã€‚</li>
<li>å¦‚æœå†æ— å¯é€‰çš„å€¼ï¼Œåˆ™æŠ›å‡ºé”™è¯¯ã€‚</li>
</ol>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ ‡å‡†å¯¹è±¡ä¼šå°†é»˜è®¤æ¨¡å¼æŒ‰æ•°å­—æ¨¡å¼å¤„ç†ï¼ˆé™¤äº†Dateå¯¹è±¡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¼šè®²é»˜è®¤æ¨¡å¼æŒ‰å­—ç¬¦ä¸²æ¨¡å¼å¤„ç†ï¼‰ã€‚å¦‚æœè‡ªå®šä¹‰ Symbol.toPrimitiveæ–¹æ³•ï¼Œåˆ™å¯ä»¥è¦†ç›–è¿™äº›é»˜è®¤çš„å¼ºåˆ¶è½¬æ¢ç‰¹æ€§ã€‚</p>
<br/>
<blockquote>
<p>é»˜è®¤æ¨¡å¼åªç”¨äº==è¿ç®—ï¼Œ+å…ƒç®—åŠç»™Dateæ„é€ å‡½æ•°ä¼ é€’ä¸€ä¸ªå‚æ•°æ—¶ã€‚åœ¨å¤§å¤šæ•°æ“ä½œä¸­ï¼Œä½¿ç”¨çš„éƒ½æ˜¯å­—ç¬¦ä¸²æ¨¡å¼æˆ–æ•°å­—æ¨¡å¼ã€‚</p>
</blockquote>
<p>å¦‚æœè¦è¦†å†™é»˜è®¤çš„è½¬åŒ–ç‰¹æ€§ï¼Œå¯ä»¥å°†å‡½æ•°çš„Symbol.toPrimitiveå±æ€§èµ‹å€¼ä¸ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä¸¾ä¸ªğŸŒ°ï¼š</p>
<pre><code>function Temperature(degrees) {
    this.degrees = degrees;
}

Temperature.prototype[Symbol.toPrimitive] = function(hint) {
    switch(hint) {
        case &quot;string&quot;:
            return this.degrees + &quot;\u00b0&quot;; 
        case &quot;number&quot;:
            return this.degrees;
        case &quot;default&quot;:
            return this.degrees + &quot; degrees&quot;;
    }
}

var freezing = new Temperature(32);

console.log(freezing + &quot;!&quot;);   //&quot;32 degrees!&quot;
console.log(freezing / 2);     //16
console.log(String(freezing))  //&quot;32Â°&quot;
</code></pre>
<p>æ–°çš„æ–¹æ³•æ ¹æ®å‚æ•°hintæŒ‡å®šçš„æ¨¡å¼è¿”å›ä¸åŒçš„å€¼ï¼ˆå‚æ•°hintç”±JavaScriptå¼•æ“ä¼ å…¥ï¼‰ã€‚åœ¨å­—ç¬¦ä¸²æ¨¡å¼ä¸‹ï¼Œ<code>Temperature()</code>å‡½æ•°è¿”å›Unicodeçš„æ¸©åº¦ç¬¦å·ï¼›åœ¨æ•°å­—æ¨¡å¼ä¸‹ï¼Œè¿”å›ç›¸åº”çš„æ•°å€¼ï¼›åœ¨é»˜è®¤æ¨¡å¼ä¸‹ï¼Œå°†degressè¿™ä¸ªå•è¯æ·»åŠ åˆ°æ•°å­—åã€‚</p>
<br/>
<p>æ¯ä¸€æ¡<code>console.log()</code>è¯­å¥å°†è§¦å‘ä¸åŒçš„hintå‚æ•°å€¼ã€‚+è¿ç®—ç¬¦è§¦å‘é»˜è®¤æ¨¡å¼ï¼Œhintè¢«è®¾ç½®ä¸ºâ€œdefaultâ€ï¼›/è¿ç®—ç¬¦è§¦å‘æ•°å­—æ¨¡å¼ï¼Œhintè¢«è®¾ç½®ä¸ºâ€œnumberâ€ï¼›<code>String()</code>å‡½æ•°è§¦å‘å­—ç¬¦ä¸²æ¨¡å¼ï¼Œhintè¢«è®¾ç½®ä¸ºâ€œstringâ€ã€‚é’ˆå¯¹ä¸‰ç§æ¨¡å¼è¿”å›çš„å€¼æ—¶å¯è¡Œçš„ï¼Œä½†æ˜¯æ›´å¸¸è§çš„åšæ³•æ˜¯ï¼Œå°†é»˜è®¤æ¨¡å¼è®¾ç½®æˆä¸å­—ç¬¦ä¸²æ¨¡å¼æˆ–æ•°å­—æ¨¡å¼ç›¸åŒçš„å¤„ç†é€»è¾‘ã€‚</p>
<br/>
<blockquote>
<p>ğŸ”’å¥½åƒæœ‰ç‚¹é•¿äº†å‘¢ï¼ˆæ‰ä¸æ˜¯æˆ‘ä¸æƒ³å†æ‰“å­—äº†ï¼‰ï¼Œå‰©ä¸‹éƒ¨åˆ†çš„ç•™ç»™ä¸‹å§ï¼</p>
</blockquote>
<br/>
<p>to be continuedğŸ–‹</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[DOMAPIå®Œå…¨æ•´ç†]]></title>
        <id>https://heihei12305.github.io/post/domapi-wan-quan-zheng-li</id>
        <link href="https://heihei12305.github.io/post/domapi-wan-quan-zheng-li">
        </link>
        <updated>2019-11-08T05:58:31.000Z</updated>
        <content type="html"><![CDATA[<p>asdaï¼Œå¾…æ•´ç†</p>
]]></content>
    </entry>
</feed>